<div class="metadata-package-details">
    <!--full screen header-->
    <div class="metadata-package-details-header">
        <div class="metadata-package-details-title">
            <div class="title-image">

            </div>
            <div class="title-content">
                <div class="title">{{(currentMetadataPackage$ | async)?.name}}</div>
                <div class="tag-block">
                    <img src="assets/icons/tag.png" alt="">
                    <div>
                        <a href="">tags</a>
                        <span>, </span>
                        <a href="">tags</a>
                        <span>, </span>
                        <a href="">tags</a>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div class="metadata-package-details-close">
                <a (click)="closeMetadataPackageItem($event)">
                    <img src="assets/icons/close.png" alt="Close">
                </a>
            </div>
            <div class="metadata-package-actions">
              <button class="btn btn-sm btn-success import-btn" *ngIf="(currentMetadataPackage$ | async)?.imported">
                Imported
              </button>
                <button
                  class="btn btn-outline-secondary btn-sm import-btn"
                  (click)="previewMetadata($event)"
                  [disabled]="(currentMetadataPackage$ | async)?.importing"
                >
                  <span class="importing-block" *ngIf="(currentMetadataPackage$ | async)?.importing">
                    <img src="assets/icons/balls-5.svg" alt="">
                    Importing metadata...
                  </span>
                  <span class="import-block" *ngIf="!(currentMetadataPackage$ | async)?.importing">
                    {{((currentMetadataPackage$ | async)?.imported) ? 'Import anyway' : 'Preview and import'}}
                  </span>
                </button>
                <select
                  *ngIf="!(currentMetadataPackage$ | async)?.importing"
                  [(ngModel)]="currentMetadataPackageVersion"
                  (ngModelChange)="setCurrentVersion()"
                  class="form-control form-control-sm">
                  <option
                    *ngFor="let metadataPackageVersion of (currentMetadataPackage$ | async)?.versions"
                    [value]="metadataPackageVersion.version">
                    Version {{metadataPackageVersion.version}}
                  </option>
                </select>
            </div>
        </div>
    </div>
    <!-- end of full screen header-->

    <!-- metadata package detail body -->
    <div class="metadata-package-details-body">
        <!-- metadata package description -->
        <div class="metadata-package-description">
            {{(currentMetadataPackage$ | async)?.description}}
        </div>
        <!-- end of metadata package description -->

        <!-- metadata list -->
        <div class="metadata-list" *ngIf="metadataPackageLoaded$ | async">
            <app-metadata
              [id]="(currentMetadataPackage$ | async)?.id"
              [currentVersion]="currentMetadataPackageVersion"
              [versions]="(currentMetadataPackage$ | async)?.versions"
            ></app-metadata>
        </div>
        <!-- end of metadata list -->
    </div>
    <!-- end metadata package detail body -->
</div>
