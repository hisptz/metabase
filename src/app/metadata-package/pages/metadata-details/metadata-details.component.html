<app-progress></app-progress>
<div class="row">
  <div class="{{currentMetadata == null ? 'col-md-12' : 'col-md-5'}}">
    <table class="table table-striped table-hover" *ngIf="!loading">
      <thead>
      <tr>
        <th *ngIf="currentMetadata == null">#</th>
        <th>Name</th>
        <th *ngIf="currentMetadata == null">Code</th>
        <th *ngIf="currentMetadata == null">Status</th>
      </tr>
      </thead>
      <tbody>
      <tr (click)="viewMetadataDetails(metadataItem)" class="{{currentMetadata != null && currentMetadata.id == metadataItem.id ? 'text-primary' : ''}}" style="cursor: pointer;" *ngFor="let metadataItem of metadata.metadataDetails[metadataType]; let i = index">
        <td *ngIf="currentMetadata == null">{{i + 1}}</td>
        <td>{{metadataItem.name}}</td>
        <td *ngIf="currentMetadata == null">{{metadataItem.code}}</td>
        <td *ngIf="currentMetadata == null">
          <small *ngIf="metadataItem.available == undefined"><img src="assets/img/balls-3.svg" style="height: 25px; width: 25px;" alt="">Checking availability</small>
          <span *ngIf="metadataItem.available" tooltip="tooltip" class="text-success"><i class="fa fa-check"></i> Available</span>
          <span *ngIf="metadataItem.available == false" class="text-danger">
            <i class="fa fa-exclamation-circle"></i>&nbsp;
            Not imported
          </span>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="col-md-7" *ngIf="currentMetadata != null">
    <button class="btn btn-default btn-sm metadata-close-btn" (click)="currentMetadata = null">Close</button>
    <h4 class="page-header" style="margin-top: 2px;">{{currentMetadata.name}}</h4>
    <app-indicators *ngIf="metadataType == 'indicators'" [indicators]="currentMetadata"></app-indicators>
    <app-indicator-type *ngIf="metadataType == 'indicatorTypes'" [indicatorType]="currentMetadata"></app-indicator-type>
    <app-data-element *ngIf="metadataType == 'dataElements'" [dataElement]="currentMetadata"></app-data-element>
    <app-org-unit *ngIf="metadataType == 'organisationUnits'" [orgUnit]="currentMetadata"></app-org-unit>
  </div>
</div>



<!--<tabset *ngIf="!loading">-->
  <!--<tab *ngFor="let item of metadata.items">-->
    <!--<template tabHeading>-->
      <!--{{item | readableName}}-->
    <!--</template>-->
    <!--<div class="row">-->
      <!--<div class="col-md-12" style="padding-top: 10px;">-->
        <!--<app-indicators *ngIf="item == 'indicators'" [indicators]="metadata.metadata[item]" [metadataId]="metadata.id"></app-indicators>-->
        <!--<app-indicator-type *ngIf="item == 'indicatorTypes'" [indicatorTypes]="metadata.metadata[item]"></app-indicator-type>-->
        <!--<app-org-unit *ngIf="item == 'organisationUnits'" [orgUnits]="metadata.metadata[item]"></app-org-unit>-->
        <!--<app-data-element *ngIf="item == 'dataElements'" [dataElements]="metadata.metadata[item]"></app-data-element>-->
      <!--</div>-->
    <!--</div>-->
  <!--</tab>-->
<!--</tabset>-->
